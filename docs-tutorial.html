<!doctype html><html data-reactroot="" data-reactid="1" data-react-checksum="-510890003"><head data-reactid="2"><meta charset="utf-8" data-reactid="3"/><title data-reactid="4">React DnD</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" data-reactid="5"/><link rel="stylesheet" type="text/css" href="main-cad0d4f10e10d83632c8.css" data-reactid="6"/><base target="_blank" data-reactid="7"/></head><body data-reactid="8"><div data-reactid="9"><header class="Header" data-reactid="10"><div class="NavBar" data-reactid="11"><div class="NavBar-container" data-reactid="12"><div class="NavBar-logo" data-reactid="13"><a href="./" target="_self" class="NavBar-logoTitle" data-reactid="14"><!-- react-text: 15 -->React <!-- /react-text --><i data-reactid="16">DnD</i></a><p class="NavBar-logoDescription" data-reactid="17">Drag and Drop for React</p></div><div class="NavBar-item" data-reactid="18"><a class="NavBar-link" href="docs-overview.html" target="_self" data-reactid="19">Docs</a><a class="NavBar-link" href="examples-chessboard-tutorial-app.html" target="_self" data-reactid="20">Examples</a><a class="NavBar-link" href="https://github.com/react-dnd/react-dnd" data-reactid="21">GitHub</a></div></div></div></header><div class="PageBody PageBody--hasSidebar" data-reactid="22"><div class="PageBody-container" data-reactid="23"><div class="SideBar" data-reactid="24"><div class="SideBar-content" data-reactid="25"><div class="SideBar-group" data-reactid="26"><h4 class="SideBar-groupTitle" data-reactid="27">Quick Start</h4><a href="docs-overview.html" target="_self" class="SideBar-item" data-reactid="28"><span class="SideBar-itemText" data-reactid="29">Overview</span><span class="arrowBullet" data-reactid="30"></span></a><a href="docs-tutorial.html" target="_self" class="SideBar-item SideBar-item--selected" data-reactid="31"><span class="SideBar-itemText" data-reactid="32">Tutorial</span><span class="arrowBullet" data-reactid="33"></span></a><a href="docs-testing.html" target="_self" class="SideBar-item" data-reactid="34"><span class="SideBar-itemText" data-reactid="35">Testing</span><span class="arrowBullet" data-reactid="36"></span></a><a href="docs-faq.html" target="_self" class="SideBar-item" data-reactid="37"><span class="SideBar-itemText" data-reactid="38">FAQ</span><span class="arrowBullet" data-reactid="39"></span></a><a href="docs-troubleshooting.html" target="_self" class="SideBar-item" data-reactid="40"><span class="SideBar-itemText" data-reactid="41">Troubleshooting</span><span class="arrowBullet" data-reactid="42"></span></a></div><div class="SideBar-group" data-reactid="43"><h4 class="SideBar-groupTitle" data-reactid="44">Top-Level API</h4><a href="docs-drag-source.html" target="_self" class="SideBar-item" data-reactid="45"><span class="SideBar-itemText" data-reactid="46">DragSource</span><span class="arrowBullet" data-reactid="47"></span></a><a href="docs-drop-target.html" target="_self" class="SideBar-item" data-reactid="48"><span class="SideBar-itemText" data-reactid="49">DropTarget</span><span class="arrowBullet" data-reactid="50"></span></a><a href="docs-drag-layer.html" target="_self" class="SideBar-item" data-reactid="51"><span class="SideBar-itemText" data-reactid="52">DragLayer</span><span class="arrowBullet" data-reactid="53"></span></a><a href="docs-drag-drop-context.html" target="_self" class="SideBar-item" data-reactid="54"><span class="SideBar-itemText" data-reactid="55">DragDropContext</span><span class="arrowBullet" data-reactid="56"></span></a><a href="docs-drag-drop-context-provider.html" target="_self" class="SideBar-item" data-reactid="57"><span class="SideBar-itemText" data-reactid="58">DragDropContextProvider</span><span class="arrowBullet" data-reactid="59"></span></a></div><div class="SideBar-group" data-reactid="60"><h4 class="SideBar-groupTitle" data-reactid="61">Connecting to DOM</h4><a href="docs-drag-source-connector.html" target="_self" class="SideBar-item" data-reactid="62"><span class="SideBar-itemText" data-reactid="63">DragSourceConnector</span><span class="arrowBullet" data-reactid="64"></span></a><a href="docs-drop-target-connector.html" target="_self" class="SideBar-item" data-reactid="65"><span class="SideBar-itemText" data-reactid="66">DropTargetConnector</span><span class="arrowBullet" data-reactid="67"></span></a></div><div class="SideBar-group" data-reactid="68"><h4 class="SideBar-groupTitle" data-reactid="69">Monitoring State</h4><a href="docs-drag-source-monitor.html" target="_self" class="SideBar-item" data-reactid="70"><span class="SideBar-itemText" data-reactid="71">DragSourceMonitor</span><span class="arrowBullet" data-reactid="72"></span></a><a href="docs-drop-target-monitor.html" target="_self" class="SideBar-item" data-reactid="73"><span class="SideBar-itemText" data-reactid="74">DropTargetMonitor</span><span class="arrowBullet" data-reactid="75"></span></a><a href="docs-drag-layer-monitor.html" target="_self" class="SideBar-item" data-reactid="76"><span class="SideBar-itemText" data-reactid="77">DragLayerMonitor</span><span class="arrowBullet" data-reactid="78"></span></a></div><div class="SideBar-group" data-reactid="79"><h4 class="SideBar-groupTitle" data-reactid="80">Backends</h4><a href="docs-html5-backend.html" target="_self" class="SideBar-item" data-reactid="81"><span class="SideBar-itemText" data-reactid="82">HTML5</span><span class="arrowBullet" data-reactid="83"></span></a><a href="docs-test-backend.html" target="_self" class="SideBar-item" data-reactid="84"><span class="SideBar-itemText" data-reactid="85">Test</span><span class="arrowBullet" data-reactid="86"></span></a></div></div></div><div style="width:100%;" data-reactid="87"><div style="width:100%;" data-reactid="88"><h1>Tutorial<a id="tutorial">&nbsp;</a></h1><p>Now that you&#39;ve read <a href="docs-overview.html">the overview</a>, it&#39;s the adventure time! Even if you have not, you can skip it for now, because â…” of our time we&#39;ll be busy identifying and building normal React components, just like in the classic <a href="https://facebook.github.io/react/docs/thinking-in-react.html">Thinking in React</a> tutorial. Adding the drag and drop support is just the icing on the cake.</p>
<p>In this tutorial, we&#39;re going to build a Chess game with React and React DnD. Just kidding! Writing a full-blown Chess game is totally out of scope of this tutorial. <strong>What we&#39;re going to build is a tiny app with a Chess board and a lonely Knight. The Knight will be draggable according to the Chess rules.</strong></p>
<p>We will use this example to demonstrate the data-driven approach of React DnD. You will learn how to create a drag source and a drop target, wire them together with your components, and change their appearance in response to the drag and drop events.</p>
<p>If you&#39;re new to React and know a thing or two about it, but yet have to gain some experience building components, this tutorial can also serve as an introduction to the React mode of thinking and the React workflow. <strong>If you are a seasoned React developer and only came here for the drag and drop part, feel free to skip to the third and the final chapter of this tutorial.</strong></p>
<p>Enough talk! It&#39;s time to set up a build workflow for our little project. I use <a href="http://webpack.github.io/">Webpack</a>, you might be using <a href="http://browserify.org/">Browserify</a>. I don&#39;t want to get into that now, so just set up an empty React project in whatever way is most convenient for you. If you&#39;re feeling lazy, you are free to clone <a href="https://github.com/gaearon/react-hot-boilerplate">React Hot Boilerplate</a> and work on top of it. In fact, that&#39;s what I&#39;m going to do myself.</p>
<p>In this tutorial, the code examples are available simultaneously in ES5, ES6, and <a href="docs-faq.html">ES7</a>. If you want to follow along using ES6 or ES7, you will need to set up a compilation step using <a href="https://babeljs.io/">Babel</a>. It&#39;s easy to <a href="https://babeljs.io/docs/using-babel/">make it work with the tool of your choice</a> so we&#39;re going to skip this step, too, and assume you&#39;ve dealt with it and you are ready to write code now. The boilerplate project <a href="https://github.com/gaearon/react-hot-boilerplate">I linked to before</a> already includes Babel.</p>
<p>The app we&#39;re going to build is <a href="examples-chessboard-tutorial-app.html">available as an example on this website</a>.</p>
<h2>Identifying the Components<a id="identifying-the-components">&nbsp;</a></h2><p>We&#39;re going to start by creating some React components first, with no thoughts of the drag and drop interaction. Which components is our Lonely Knight app going to be made of? I can think of a few:</p>
<ul>
<li><code>Knight</code>, our lonely knight piece;</li>
<li><code>Square</code>, a single square on the board;</li>
<li><code>Board</code>, the whole board with 64 squares.</li>
</ul>
<p>Let&#39;s consider their props.</p>
<ul>
<li><p><code>Knight</code> probably needs no props. It has a position, but there&#39;s no reason for the <code>Knight</code> to know it, because it can be positioned by being placed into a <code>Square</code> as a child.</p>
</li>
<li><p>It is tempting to give <code>Square</code> its position via props, but this, again, is not necessary, because the only information it really needs for the rendering is the color. I&#39;m going to make <code>Square</code> white by default, and add a <code>black</code> boolean prop. And of course <code>Square</code> may accept a single child: the chess piece that is currently on it. I chose white as the default background color to match the browser defaults.</p>
</li>
<li><p>The <code>Board</code> is tricky. It makes no sense to pass <code>Square</code>s as children to it, because what else could a board contain? Therefore it probably owns the <code>Square</code>s. But then, it also need to own the <code>Knight</code> because this guy needs to be placed inside one of those <code>Square</code>s. This means that the <code>Board</code> needs to know the knight&#39;s current position. In a real Chess game, the <code>Board</code> would accept a data structure describing all the pieces, their colors and positions, but for us, a <code>knightPosition</code> prop will suffice. We will use two-item arrays as coordinates, with <code>[0, 0]</code> referring to the A8 square. Why A8 instead of A1? To match the browser coordinate orientation. I tried it another way and it just messed with my head too much.</p>
</li>
</ul>
<p>Where will the current state live? I really don&#39;t want to put it into the <code>Board</code> component. It&#39;s a good idea to have as little state in your components as possible, and because the <code>Board</code> will already have some layout logic, I don&#39;t want to also burden it with managing the state.</p>
<p>The good news is, it doesn&#39;t matter at this point. We&#39;re just going to write the components as if the state existed <em>somewhere</em>, and make sure that they render correctly when they receive it via props, and think about managing the state afterwards!</p>
<h2>Creating the Components<a id="creating-the-components">&nbsp;</a></h2><p>I prefer to start bottom-up, because this way I&#39;m always working with something that already exists. If I were to build the <code>Board</code> first, I wouldn&#39;t see my results until I&#39;m done with the <code>Square</code>. On the other hand, I can build and see the <code>Square</code> right away without even thinking of the <code>Board</code>. I think that the immediate feedback loop is important (you can tell that by <a href="https://react-dnd.github.io/react-hot-loader">another project I work on</a>).</p>
<p>In fact I&#39;m going to start with the <code>Knight</code>. It doesn&#39;t have any props at all, and it&#39;s the easiest one to build:</p>
</div><div class="CodeBlock" data-reactid="89"><ul class="CodeBlock-tabs" data-reactid="90"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="91"><a data-reactid="92">ES6</a></li><li class="CodeBlock-tab " data-reactid="93"><a data-reactid="94">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="95"><div style="width:100%;" data-reactid="96"><div style="width:100%;" data-reactid="97">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Knight</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token operator" >&lt;</span>span<span class="token operator" >></span>â™˜<span class="token operator" >&lt;</span><span class="token operator" >/</span>span<span class="token operator" >></span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="98">
<p>Yes, â™˜ is the Unicode knight! It&#39;s gorgeous. We could&#39;ve made its color a prop, but in our example we&#39;re not going to have any black knights, so there is no need for that.</p>
<p>It seems to render fine, but just to be sure, I immediately changed my entry point to test it:</p>
</div><div class="CodeBlock" data-reactid="99"><ul class="CodeBlock-tabs" data-reactid="100"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="101"><a data-reactid="102">ES6</a></li><li class="CodeBlock-tab " data-reactid="103"><a data-reactid="104">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="105"><div style="width:100%;" data-reactid="106"><div style="width:100%;" data-reactid="107">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Knight</span> from <span class="token string" >'./Knight'</span><span class="token punctuation" >;</span>

<span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span> document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >'root'</span><span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="108">
<p><img src='http://i.imgur.com/NktjTMn.png' width='512' height='384' alt='Screenshot'></p>
<p>I&#39;m going to do this every time I work on another component, so that I always have something to render. In a larger app, I would use a component playground like <a href="https://github.com/skidding/cosmos">cosmos</a> so I&#39;d never write the components in the dark.</p>
<p>I see my <code>Knight</code> on the screen! Time to go ahead and implement the <code>Square</code> now. Here is my first stab:</p>
</div><div class="CodeBlock" data-reactid="109"><ul class="CodeBlock-tabs" data-reactid="110"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="111"><a data-reactid="112">ES7</a></li><li class="CodeBlock-tab " data-reactid="113"><a data-reactid="114">ES6</a></li><li class="CodeBlock-tab " data-reactid="115"><a data-reactid="116">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="117"><div style="width:100%;" data-reactid="118"><div style="width:100%;" data-reactid="119">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Square</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    black<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> black <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> fill <span class="token operator" >=</span> black <span class="token operator" >?</span> <span class="token string" >'black'</span> <span class="token punctuation" >:</span> <span class="token string" >'white'</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> backgroundColor<span class="token punctuation" >:</span> fill <span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="120">
<p>Now I change the entry point code to see how the <code>Knight</code> looks inside a <code>Square</code>:</p>
</div><div class="CodeBlock" data-reactid="121"><ul class="CodeBlock-tabs" data-reactid="122"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="123"><a data-reactid="124">ES6</a></li><li class="CodeBlock-tab " data-reactid="125"><a data-reactid="126">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="127"><div style="width:100%;" data-reactid="128"><div style="width:100%;" data-reactid="129">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Knight</span> from <span class="token string" >'./Knight'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>

<span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span>
  <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span>
  <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span><span class="token punctuation" >,</span>
  document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >'root'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="130">
<p>Sadly, the screen is empty. I made a few mistakes:</p>
<ul>
<li><p>I forgot to give <code>Square</code> any dimensions so it just collapses. I don&#39;t want it to have any fixed size, so I&#39;ll give it <code>width: &#39;100%&#39;</code> and <code>height: &#39;100%&#39;</code> to fill the container.</p>
</li>
<li><p>I forgot to put <code>{this.props.children}</code> inside the <code>div</code> returned by the <code>Square</code>, so it ignores the <code>Knight</code> passed to it.</p>
</li>
</ul>
<p>Even after correcting these two mistakes, I still can&#39;t see my <code>Knight</code> when the <code>Square</code> is <code>black</code>. That&#39;s because the default page body text color is black, so it is not visible on the black <code>Square</code>. I could have fixed this by giving <code>Knight</code> a color prop, but a much simpler fix is to set a corresponding <code>color</code> style in the same place where I set <code>backgroundColor</code>. This version of <code>Square</code> corrects the mistakes and works equally great with both colors:</p>
</div><div class="CodeBlock" data-reactid="131"><ul class="CodeBlock-tabs" data-reactid="132"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="133"><a data-reactid="134">ES7</a></li><li class="CodeBlock-tab " data-reactid="135"><a data-reactid="136">ES6</a></li><li class="CodeBlock-tab " data-reactid="137"><a data-reactid="138">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="139"><div style="width:100%;" data-reactid="140"><div style="width:100%;" data-reactid="141">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Square</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    black<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> black <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> fill <span class="token operator" >=</span> black <span class="token operator" >?</span> <span class="token string" >'black'</span> <span class="token punctuation" >:</span> <span class="token string" >'white'</span><span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> stroke <span class="token operator" >=</span> black <span class="token operator" >?</span> <span class="token string" >'white'</span> <span class="token punctuation" >:</span> <span class="token string" >'black'</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        backgroundColor<span class="token punctuation" >:</span> fill<span class="token punctuation" >,</span>
        color<span class="token punctuation" >:</span> stroke<span class="token punctuation" >,</span>
        width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>children<span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="142">
<p><img src='http://i.imgur.com/jvgv6DV.png' width='512' height='384' alt='Screenshot'></p>
<p>Finally, time to get started with the <code>Board</code>! I&#39;m going to start with an extremely naÃ¯ve version that just draws the same single square:</p>
</div><div class="CodeBlock" data-reactid="143"><ul class="CodeBlock-tabs" data-reactid="144"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="145"><a data-reactid="146">ES7</a></li><li class="CodeBlock-tab " data-reactid="147"><a data-reactid="148">ES6</a></li><li class="CodeBlock-tab " data-reactid="149"><a data-reactid="150">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="151"><div style="width:100%;" data-reactid="152"><div style="width:100%;" data-reactid="153">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Knight</span> from <span class="token string" >'./Knight'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Board</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    knightPosition<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span><span class="token function" >arrayOf<span class="token punctuation" >(</span></span>
      <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired
    <span class="token punctuation" >)</span><span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span>div<span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >></span>
          <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="154">
<p>My only intention so far is to make it render, so that I can start tweaking it:</p>
</div><div class="CodeBlock" data-reactid="155"><ul class="CodeBlock-tabs" data-reactid="156"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="157"><a data-reactid="158">ES6</a></li><li class="CodeBlock-tab " data-reactid="159"><a data-reactid="160">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="161"><div style="width:100%;" data-reactid="162"><div style="width:100%;" data-reactid="163">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Board</span> from <span class="token string" >'./Board'</span><span class="token punctuation" >;</span>

<span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span>
  <span class="token operator" >&lt;</span><span class="token qualifier" >Board</span> knightPosition<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span>
  document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >'root'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="164">
<p>Indeed, I can see the same single square. I&#39;m now going to add a whole bunch of them! But I don&#39;t know where to start. What do I put in <code>render</code>? Some kind of a <code>for</code> loop? A <code>map</code> over some array?</p>
<p>To be honest, I don&#39;t want to think about it now. I already know how to render a single square with or without a knight. I also know the knight&#39;s position thanks to the <code>knightPosition</code> prop. This means I can write the <code>renderSquare</code> method and not worry about rendering the whole board just yet.</p>
<p>My first attempt at <code>renderSquare</code> looks like this:</p>
</div><div class="CodeBlock" data-reactid="165"><ul class="CodeBlock-tabs" data-reactid="166"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="167"><a data-reactid="168">ES6</a></li><li class="CodeBlock-tab " data-reactid="169"><a data-reactid="170">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="171"><div style="width:100%;" data-reactid="172"><div style="width:100%;" data-reactid="173">
<code class="codeBlock"><span class="token function" >renderSquare<span class="token punctuation" >(</span></span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

  <span class="token keyword" >const</span> <span class="token punctuation" >[</span>knightX<span class="token punctuation" >,</span> knightY<span class="token punctuation" >]</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>knightPosition<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> piece <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >===</span> knightX <span class="token operator" >&amp;&amp;</span> y <span class="token operator" >===</span> knightY<span class="token punctuation" >)</span> <span class="token operator" >?</span>
    <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span> <span class="token punctuation" >:</span>
    <span class="token primitive" >null</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token punctuation" >{</span>piece<span class="token punctuation" >}</span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="174">
<p>I can already give it a whirl by changing <code>render</code> to be</p>
</div><div class="CodeBlock" data-reactid="175"><ul class="CodeBlock-tabs" data-reactid="176"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="177"><a data-reactid="178">ES6</a></li><li class="CodeBlock-tab " data-reactid="179"><a data-reactid="180">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="181"><div style="width:100%;" data-reactid="182"><div style="width:100%;" data-reactid="183">
<code class="codeBlock"><span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
      width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
      height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderSquare<span class="token punctuation" >(</span></span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderSquare<span class="token punctuation" >(</span></span><span class="token number" >1</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderSquare<span class="token punctuation" >(</span></span><span class="token number" >2</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="184">
<p><img src='http://i.imgur.com/Br30DLg.png' width='512' height='384' alt='Screenshot'></p>
<p>At this point, I realize that I forgot to give my squares any layout. I&#39;m going to try <a href="https://developer.mozilla.org/en/CSS/Using_CSS_flexible_boxes">Flexbox</a> because why not. I added some styles to the root <code>div</code>, and also wrapped the <code>Square</code>s into <code>div</code>s so I could lay them out. Generally it&#39;s a good idea to keep components encapsulated and ignorant of how they&#39;re being laid out, even if this means adding wrapper <code>div</code>s.</p>
</div><div class="CodeBlock" data-reactid="185"><ul class="CodeBlock-tabs" data-reactid="186"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="187"><a data-reactid="188">ES7</a></li><li class="CodeBlock-tab " data-reactid="189"><a data-reactid="190">ES6</a></li><li class="CodeBlock-tab " data-reactid="191"><a data-reactid="192">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="193"><div style="width:100%;" data-reactid="194"><div style="width:100%;" data-reactid="195">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Knight</span> from <span class="token string" >'./Knight'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Board</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    knightPosition<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span><span class="token function" >arrayOf<span class="token punctuation" >(</span></span>
      <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired
    <span class="token punctuation" >)</span><span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >renderSquare<span class="token punctuation" >(</span></span>i<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> x <span class="token operator" >=</span> i <span class="token operator" >%</span> <span class="token number" >8</span><span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> y <span class="token operator" >=</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >floor<span class="token punctuation" >(</span></span>i <span class="token operator" >/</span> <span class="token number" >8</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >[</span>knightX<span class="token punctuation" >,</span> knightY<span class="token punctuation" >]</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>knightPosition<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> piece <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >===</span> knightX <span class="token operator" >&amp;&amp;</span> y <span class="token operator" >===</span> knightY<span class="token punctuation" >)</span> <span class="token operator" >?</span>
      <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span> <span class="token punctuation" >:</span>
      <span class="token primitive" >null</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span>div key<span class="token operator" >=</span><span class="token punctuation" >{</span>i<span class="token punctuation" >}</span>
           style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> width<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span><span class="token punctuation" >,</span> height<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
          <span class="token punctuation" >{</span>piece<span class="token punctuation" >}</span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> squares <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>
    <span class="token block-keyword" >for</span> <span class="token punctuation" >(</span><span class="token keyword" >let</span> i <span class="token operator" >=</span> <span class="token number" >0</span><span class="token punctuation" >;</span> i <span class="token operator" >&lt;</span> <span class="token number" >64</span><span class="token punctuation" >;</span> i<span class="token operator" >++</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
      squares<span class="token punctuation" >.</span><span class="token function" >push<span class="token punctuation" >(</span></span><span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderSquare<span class="token punctuation" >(</span></span>i<span class="token punctuation" >)</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
    <span class="token punctuation" >}</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        display<span class="token punctuation" >:</span> <span class="token string" >'flex'</span><span class="token punctuation" >,</span>
        flexWrap<span class="token punctuation" >:</span> <span class="token string" >'wrap'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span>squares<span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="196">
<p><img src='http://i.imgur.com/RsQDI4Y.png' width='512' height='384' alt='Screenshot'></p>
<p>It looks pretty awesome! I don&#39;t know how to constrain the <code>Board</code> to maintain a square aspect ratio, but this should be easy to add later.</p>
<p>Think about it for a moment. We just went from nothing to being able to move the <code>Knight</code> on a beautiful <code>Board</code> by changing the <code>knightPosition</code>:</p>
</div><div class="CodeBlock" data-reactid="197"><ul class="CodeBlock-tabs" data-reactid="198"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="199"><a data-reactid="200">ES6</a></li><li class="CodeBlock-tab " data-reactid="201"><a data-reactid="202">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="203"><div style="width:100%;" data-reactid="204"><div style="width:100%;" data-reactid="205">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Board</span> from <span class="token string" >'./Board'</span><span class="token punctuation" >;</span>

<span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span>
  <span class="token operator" >&lt;</span><span class="token qualifier" >Board</span> knightPosition<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >[</span><span class="token number" >4</span><span class="token punctuation" >,</span> <span class="token number" >7</span><span class="token punctuation" >]</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span>
  document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >'root'</span><span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="206">
<p><img src='http://i.imgur.com/0fNBn5a.png' width='512' height='384' alt='Screenshot'></p>
<p>Declarative much? That&#39;s why people love working with React.</p>
<h2>Adding the State<a id="adding-the-state">&nbsp;</a></h2><p>We want to make the <code>Knight</code> draggable. It&#39;s a noble goal, but we need to see past it. What we really mean is that we want to keep the current <code>knightPosition</code> in some kind of state storage, and have some way to change it.</p>
<p>Because setting up this state requires some thought, we won&#39;t try to implement dragging at the same time. Instead, we&#39;ll start with a simpler implementation. We will move the <code>Knight</code> when you click a particular <code>Square</code>, but only if this is allowed by the Chess rules. Implementing this logic should give us enough insight into managing the state, so we can replace clicking with the drag and drop once we&#39;ve dealt with that.</p>
<p>React is not opinionated about the state management or the data flow; you can use <a href="https://facebook.github.io/flux/">Flux</a>, <a href="https://github.com/reactjs/react-redux">Redux</a>, <a href="https://github.com/Reactive-Extensions/RxJS">Rx</a> or <s>even Backbone</s> nah, <a href="http://martinfowler.com/bliki/CQRS.html">avoid fat models and separate your reads from writes</a>.</p>
<p>I don&#39;t want to bother with installing or setting up Redux for this simple example, so I&#39;m going to follow a simpler pattern. It won&#39;t scale as well as Redux, but I also don&#39;t need it to. I have not decided on the API for my state manager yet, but I&#39;m going to call it <code>Game</code>, and it will definitely need to have some way of signaling data changes to my React code.</p>
<p>Since I know this much, I can rewrite my <code>index.js</code> with a hypothetical <code>Game</code> that doesn&#39;t exist yet. Note that this time, I&#39;m writing my code in blind, not being able to run it yet. This is because I&#39;m still figuring out the API:</p>
</div><div class="CodeBlock" data-reactid="207"><ul class="CodeBlock-tabs" data-reactid="208"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="209"><a data-reactid="210">ES6</a></li><li class="CodeBlock-tab " data-reactid="211"><a data-reactid="212">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="213"><div style="width:100%;" data-reactid="214"><div style="width:100%;" data-reactid="215">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >React</span>DOM from <span class="token string" >'react-dom'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Board</span> from <span class="token string" >'./Board'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> observe <span class="token punctuation" >}</span> from <span class="token string" >'./Game'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> rootEl <span class="token operator" >=</span> document<span class="token punctuation" >.</span><span class="token function" >getElementById<span class="token punctuation" >(</span></span><span class="token string" >'root'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>

<span class="token function" >observe<span class="token punctuation" >(</span></span>knightPosition <span class="token operator" >=</span><span class="token operator" >></span>
  <span class="token qualifier" >React</span>DOM<span class="token punctuation" >.</span><span class="token function" >render<span class="token punctuation" >(</span></span>
    <span class="token operator" >&lt;</span><span class="token qualifier" >Board</span> knightPosition<span class="token operator" >=</span><span class="token punctuation" >{</span>knightPosition<span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >,</span>
    rootEl
  <span class="token punctuation" >)</span>
<span class="token punctuation" >)</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="216">
<p>What is this <code>observe</code> function I import? It&#39;s just the most minimal way I can think of to subscribe to a changing state. I could&#39;ve made it an <code>EventEmitter</code> but why on Earth even <em>go there</em> when all I need is a single change event? I could have made <code>Game</code> an object model, but why do that, when all I need is a stream of values?</p>
<p>Just to verify that this subscription API makes some sense, I&#39;m going to write a fake <code>Game</code> that emits random positions:</p>
</div><div class="CodeBlock" data-reactid="217"><ul class="CodeBlock-tabs" data-reactid="218"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="219"><a data-reactid="220">ES6</a></li><li class="CodeBlock-tab " data-reactid="221"><a data-reactid="222">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="223"><div style="width:100%;" data-reactid="224"><div style="width:100%;" data-reactid="225">
<code class="codeBlock"><span class="token keyword" >export</span> <span class="token block-keyword" >function</span> <span class="token function" >observe<span class="token punctuation" >(</span></span>receive<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token function" >setInterval<span class="token punctuation" >(</span></span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token function" >receive<span class="token punctuation" >(</span></span><span class="token punctuation" >[</span>
    <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >floor<span class="token punctuation" >(</span></span><span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >random<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token operator" >*</span> <span class="token number" >8</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >floor<span class="token punctuation" >(</span></span><span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >random<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token operator" >*</span> <span class="token number" >8</span><span class="token punctuation" >)</span>
  <span class="token punctuation" >]</span><span class="token punctuation" >)</span><span class="token punctuation" >,</span> <span class="token number" >500</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="226">
<p>Nothing feels as good as being back into the rendering game!</p>
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/1K0s0n0r0C0e2P2N2D1d/Screen%20Recording%202015-05-15%20at%2012.06%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<p>This is obviously not very useful. If we want some interactivity, we&#39;re going to need a way to modify the <code>Game</code> state from our components. For now, I&#39;m going to keep it simple and expose a <code>moveKnight</code> function that directly modifies the internal state. This is not going to fare well in a moderately complex app where different state storages may be interested in updating their state in response to a single user action, but in our case this will suffice:</p>
</div><div class="CodeBlock" data-reactid="227"><ul class="CodeBlock-tabs" data-reactid="228"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="229"><a data-reactid="230">ES6</a></li><li class="CodeBlock-tab " data-reactid="231"><a data-reactid="232">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="233"><div style="width:100%;" data-reactid="234"><div style="width:100%;" data-reactid="235">
<code class="codeBlock"><span class="token keyword" >let</span> knightPosition <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token number" >0</span><span class="token punctuation" >,</span> <span class="token number" >0</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>
<span class="token keyword" >let</span> observer <span class="token operator" >=</span> <span class="token primitive" >null</span><span class="token punctuation" >;</span>

<span class="token block-keyword" >function</span> <span class="token function" >emitChange<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token function" >observer<span class="token punctuation" >(</span></span>knightPosition<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token block-keyword" >function</span> <span class="token function" >observe<span class="token punctuation" >(</span></span>o<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>observer<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >throw</span> <span class="token keyword" >new</span> <span class="token class-name" >Error</span><span class="token punctuation" >(</span><span class="token string" >'Multiple observers not implemented.'</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  observer <span class="token operator" >=</span> o<span class="token punctuation" >;</span>
  <span class="token function" >emitChange<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token block-keyword" >function</span> <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  knightPosition <span class="token operator" >=</span> <span class="token punctuation" >[</span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >]</span><span class="token punctuation" >;</span>
  <span class="token function" >emitChange<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="236">
<p>Now, let&#39;s go back to our components. Our goal at this point is to move the <code>Knight</code> to a <code>Square</code> that was clicked. One way to do that is to call <code>moveKnight</code> from the <code>Square</code> itself. However, this would require us to pass the <code>Square</code> its position. Here is a good rule of thumb:</p>
<blockquote>
<p>If a component doesn&#39;t need some data for rendering, it doesn&#39;t need that data at all.</p>
</blockquote>
<p>The <code>Square</code> does not need to know its position to render. Therefore, it&#39;s best to avoid coupling it to the <code>moveKnight</code> method at this point. Instead, we are going to add an <code>onClick</code> handler to the <code>div</code> that wraps the <code>Square</code> inside the <code>Board</code>:</p>
</div><div class="CodeBlock" data-reactid="237"><ul class="CodeBlock-tabs" data-reactid="238"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="239"><a data-reactid="240">ES6</a></li><li class="CodeBlock-tab " data-reactid="241"><a data-reactid="242">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="243"><div style="width:100%;" data-reactid="244"><div style="width:100%;" data-reactid="245">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Knight</span> from <span class="token string" >'./Knight'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> moveKnight <span class="token punctuation" >}</span> from <span class="token string" >'./Game'</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">/* ... */</span>

<span class="token function" >renderSquare<span class="token punctuation" >(</span></span>i<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> x <span class="token operator" >=</span> i <span class="token operator" >%</span> <span class="token number" >8</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> y <span class="token operator" >=</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >floor<span class="token punctuation" >(</span></span>i <span class="token operator" >/</span> <span class="token number" >8</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

  <span class="token keyword" >const</span> <span class="token punctuation" >[</span>knightX<span class="token punctuation" >,</span> knightY<span class="token punctuation" >]</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>knightPosition<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> piece <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >===</span> knightX <span class="token operator" >&amp;&amp;</span> y <span class="token operator" >===</span> knightY<span class="token punctuation" >)</span> <span class="token operator" >?</span>
    <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span> <span class="token punctuation" >:</span>
    <span class="token primitive" >null</span><span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div key<span class="token operator" >=</span><span class="token punctuation" >{</span>i<span class="token punctuation" >}</span>
         style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> width<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span><span class="token punctuation" >,</span> height<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span>
         onClick<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >handleSquareClick<span class="token punctuation" >(</span></span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >)</span><span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span>piece<span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token function" >handleSquareClick<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="246">
<p>We could have also added an <code>onClick</code> prop to <code>Square</code> and used it instead, but since we&#39;re going to remove the click handler in favor of the drag and drop interface later anyway, why bother.</p>
<p>The last missing piece right now is the Chess rule check. The <code>Knight</code> can&#39;t just move to an arbitrary square, it is only allowed to make <a href="http://en.wikipedia.org/wiki/Knight_%28chess%29#Movement">L-shaped moves</a>. I&#39;m adding a <code>canMoveKnight(toX, toY)</code> function to the <code>Game</code> and changing the initial position to A2 to match the Chess rules:</p>
</div><div class="CodeBlock" data-reactid="247"><ul class="CodeBlock-tabs" data-reactid="248"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="249"><a data-reactid="250">ES6</a></li><li class="CodeBlock-tab " data-reactid="251"><a data-reactid="252">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="253"><div style="width:100%;" data-reactid="254"><div style="width:100%;" data-reactid="255">
<code class="codeBlock"><span class="token keyword" >let</span> knightPosition <span class="token operator" >=</span> <span class="token punctuation" >[</span><span class="token number" >1</span><span class="token punctuation" >,</span> <span class="token number" >7</span><span class="token punctuation" >]</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">/* ... */</span>

<span class="token keyword" >export</span> <span class="token block-keyword" >function</span> <span class="token function" >canMoveKnight<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >[</span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >]</span> <span class="token operator" >=</span> knightPosition<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> dx <span class="token operator" >=</span> toX <span class="token operator" >-</span> x<span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> dy <span class="token operator" >=</span> toY <span class="token operator" >-</span> y<span class="token punctuation" >;</span>

  <span class="token keyword" >return</span> <span class="token punctuation" >(</span><span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >abs<span class="token punctuation" >(</span></span>dx<span class="token punctuation" >)</span> <span class="token operator" >===</span> <span class="token number" >2</span> <span class="token operator" >&amp;&amp;</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >abs<span class="token punctuation" >(</span></span>dy<span class="token punctuation" >)</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >)</span> <span class="token operator" >||</span>
         <span class="token punctuation" >(</span><span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >abs<span class="token punctuation" >(</span></span>dx<span class="token punctuation" >)</span> <span class="token operator" >===</span> <span class="token number" >1</span> <span class="token operator" >&amp;&amp;</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >abs<span class="token punctuation" >(</span></span>dy<span class="token punctuation" >)</span> <span class="token operator" >===</span> <span class="token number" >2</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="256">
<p>Finally, I&#39;m adding a <code>canMoveKnight</code> check to the <code>handleSquareClick</code> method:</p>
</div><div class="CodeBlock" data-reactid="257"><ul class="CodeBlock-tabs" data-reactid="258"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="259"><a data-reactid="260">ES6</a></li><li class="CodeBlock-tab " data-reactid="261"><a data-reactid="262">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="263"><div style="width:100%;" data-reactid="264"><div style="width:100%;" data-reactid="265">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token punctuation" >{</span> canMoveKnight<span class="token punctuation" >,</span> moveKnight <span class="token punctuation" >}</span> from <span class="token string" >'./Game'</span><span class="token punctuation" >;</span>

<span class="token comment" spellcheck="true">/* ... */</span>

<span class="token function" >handleSquareClick<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token block-keyword" >if</span> <span class="token punctuation" >(</span><span class="token function" >canMoveKnight<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>toX<span class="token punctuation" >,</span> toY<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="266">
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/1F371u301l1H2X3o0g1h/Screen%20Recording%202015-05-15%20at%2012.08%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<p>Working great so far!</p>
<h2>Adding the Drag and Drop Interaction<a id="adding-the-drag-and-drop-interaction">&nbsp;</a></h2><p>This is the part that actually prompted me to write this tutorial. We are now going to see how easy React DnD makes it to add some drag and drop interaction to your existing components.</p>
<p>This part assumes you are at least somewhat familiar with the concepts presented in the <a href="docs-overview.html">overview</a>, such as the backends, the collecting functions, the types, the items, the drag sources, and the drop targets. If you didn&#39;t understand everything, it&#39;s fine, but make sure you at least give it a chance before jumping into the coding process.</p>
<p>We&#39;re going to start by installing React DnD and the HTML5 backend for it:</p>
<code class="codeBlock">npm install <span class="token operator" >--</span>save react<span class="token operator" >-</span>dnd react<span class="token operator" >-</span>dnd<span class="token operator" >-</span>html5<span class="token operator" >-</span>backend</code><p>In the future, you might want to explore alternative third-party backends, such as the <a href="https://github.com/yahoo/react-dnd-touch-backend">touch backend</a>, but this is out of scope of this tutorial.</p>
<p>The first thing we need to set up in our app is the <a href="docs-drag-drop-context.html"><code>DragDropContext</code></a>. We need it to specify that we&#39;re going to use the <a href="docs-html5-backend.html"><code>HTML5</code> backend</a> in our app.</p>
<p>Because the <code>Board</code> is the top-level component in our app, I&#39;m going to put the <a href="docs-drag-drop-context.html"><code>DragDropContext</code></a> on it:</p>
</div><div class="CodeBlock" data-reactid="267"><ul class="CodeBlock-tabs" data-reactid="268"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="269"><a data-reactid="270">ES7</a></li><li class="CodeBlock-tab " data-reactid="271"><a data-reactid="272">ES6</a></li><li class="CodeBlock-tab " data-reactid="273"><a data-reactid="274">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="275"><div style="width:100%;" data-reactid="276"><div style="width:100%;" data-reactid="277">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Drag</span><span class="token qualifier" >Drop</span><span class="token qualifier" >Context</span> <span class="token punctuation" >}</span> from <span class="token string" >'react-dnd'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> HTML5Backend from <span class="token string" >'react-dnd-html5-backend'</span><span class="token punctuation" >;</span>

@<span class="token function" >DragDropContext<span class="token punctuation" >(</span></span>HTML5Backend<span class="token punctuation" >)</span>
<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Board</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">/* ... */</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="278">
<p>Next, I&#39;m going to create the constants for the draggable item types. We&#39;re only going to have a single item type in our game, a <code>KNIGHT</code>. I&#39;m creating a <code>Constants</code> module that exports it:</p>
</div><div class="CodeBlock" data-reactid="279"><ul class="CodeBlock-tabs" data-reactid="280"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="281"><a data-reactid="282">ES6</a></li><li class="CodeBlock-tab " data-reactid="283"><a data-reactid="284">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="285"><div style="width:100%;" data-reactid="286"><div style="width:100%;" data-reactid="287">
<code class="codeBlock"><span class="token keyword" >export</span> <span class="token keyword" >const</span> <span class="token qualifier" >Item</span><span class="token qualifier" >Types</span> <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  KNIGHT<span class="token punctuation" >:</span> <span class="token string" >'knight'</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="288">
<p>The preparation work is done now. Let&#39;s make the <code>Knight</code> draggable!</p>
<p>The <a href="docs-drag-source.html"><code>DragSource</code></a> higher-order component accepts three parameters: <code>type</code>, <code>spec</code>, and <code>collect</code>. Our <code>type</code> is the constant we just defined, so now we need to write a drag source specification and a collecting function. For the <code>Knight</code>, the drag source specification is going to be ridiculously simple:</p>
</div><div class="CodeBlock" data-reactid="289"><ul class="CodeBlock-tabs" data-reactid="290"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="291"><a data-reactid="292">ES6</a></li><li class="CodeBlock-tab " data-reactid="293"><a data-reactid="294">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="295"><div style="width:100%;" data-reactid="296"><div style="width:100%;" data-reactid="297">
<code class="codeBlock"><span class="token keyword" >const</span> knightSource <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token function" >beginDrag<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="298">
<p>This is because there is nothing to describe: there is literally a single draggable object in the whole application! If we had a bunch of chess pieces, it might be a good idea to use the <code>props</code> parameter and return something like <code>{ pieceId: props.id }</code>. In our case, an empty object will suffice.</p>
<p>Next, we&#39;re going to write a collecting function. What props does the <code>Knight</code> need? It will sure need a way to specify the drag source node. It would also be nice to slightly dim the <code>Knight</code>&#39;s opacity while it is being dragged. Therefore, it needs to know whether it is currently being dragged.</p>
<p>Here is the collecting function I wrote for it:</p>
<code class="codeBlock"><span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDragSource<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragSource<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isDragging<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isDragging<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code><p>Let&#39;s take a look at the whole <code>Knight</code> component now, including the <code>DragSource</code> call and the updated <code>render</code> function:</p>
</div><div class="CodeBlock" data-reactid="299"><ul class="CodeBlock-tabs" data-reactid="300"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="301"><a data-reactid="302">ES7</a></li><li class="CodeBlock-tab " data-reactid="303"><a data-reactid="304">ES6</a></li><li class="CodeBlock-tab " data-reactid="305"><a data-reactid="306">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="307"><div style="width:100%;" data-reactid="308"><div style="width:100%;" data-reactid="309">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Item</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'./Constants'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Drag</span><span class="token qualifier" >Source</span> <span class="token punctuation" >}</span> from <span class="token string" >'react-dnd'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> knightSource <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token function" >beginDrag<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >{</span><span class="token punctuation" >}</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDragSource<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragSource<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isDragging<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isDragging<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

@<span class="token function" >DragSource<span class="token punctuation" >(</span></span><span class="token qualifier" >Item</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>KNIGHT<span class="token punctuation" >,</span> knightSource<span class="token punctuation" >,</span> collect<span class="token punctuation" >)</span>
<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >Knight</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    connectDragSource<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>func<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    isDragging<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool<span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> connectDragSource<span class="token punctuation" >,</span> isDragging <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >return</span> <span class="token function" >connectDragSource<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        opacity<span class="token punctuation" >:</span> isDragging <span class="token operator" >?</span> <span class="token number" >0.5</span> <span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>
        fontSize<span class="token punctuation" >:</span> <span class="token number" >25</span><span class="token punctuation" >,</span>
        fontWeight<span class="token punctuation" >:</span> <span class="token string" >'bold'</span><span class="token punctuation" >,</span>
        cursor<span class="token punctuation" >:</span> <span class="token string" >'move'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        â™˜
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="310">
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/3L1d0C203C0s1r1H2H0m/Screen%20Recording%202015-05-15%20at%2001.11%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<p>The <code>Knight</code> is now a drag source, but there are no drop targets to handle the drop yet. We&#39;re going to make the <code>Square</code> a drop target now.</p>
<p>This time, we can&#39;t avoid passing the position to the <code>Square</code>. After all, how can the <code>Square</code> know where to move the dragged knight if the <code>Square</code> doesn&#39;t know its own position? On the other hand, it still feels wrong because the <code>Square</code> as an entity in our application has not changed, and if it used to be simple, why complicate it? When you face this dilemma, it&#39;s time to separate the <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">smart and dumb components</a>.</p>
<p>I&#39;m going to introduce a new component called the <code>BoardSquare</code>. It renders the good old <code>Square</code>, but is also aware of its position. In fact, it&#39;s encapsulating some of the logic that the <code>renderSquare</code> method inside the <code>Board</code> used to do. React components are often extracted from such render submethods when the time is right.</p>
<p>Here is the <code>BoardSquare</code> I extracted:</p>
</div><div class="CodeBlock" data-reactid="311"><ul class="CodeBlock-tabs" data-reactid="312"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="313"><a data-reactid="314">ES7</a></li><li class="CodeBlock-tab " data-reactid="315"><a data-reactid="316">ES6</a></li><li class="CodeBlock-tab " data-reactid="317"><a data-reactid="318">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="319"><div style="width:100%;" data-reactid="320"><div style="width:100%;" data-reactid="321">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >BoardSquare</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    x<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    y<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> x<span class="token punctuation" >,</span> y <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>children<span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="322">
<p>I also changed the <code>Board</code> to use it:</p>
</div><div class="CodeBlock" data-reactid="323"><ul class="CodeBlock-tabs" data-reactid="324"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="325"><a data-reactid="326">ES6</a></li><li class="CodeBlock-tab " data-reactid="327"><a data-reactid="328">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="329"><div style="width:100%;" data-reactid="330"><div style="width:100%;" data-reactid="331">
<code class="codeBlock"><span class="token function" >renderSquare<span class="token punctuation" >(</span></span>i<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> x <span class="token operator" >=</span> i <span class="token operator" >%</span> <span class="token number" >8</span><span class="token punctuation" >;</span>
  <span class="token keyword" >const</span> y <span class="token operator" >=</span> <span class="token qualifier" >Math</span><span class="token punctuation" >.</span><span class="token function" >floor<span class="token punctuation" >(</span></span>i <span class="token operator" >/</span> <span class="token number" >8</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token operator" >&lt;</span>div key<span class="token operator" >=</span><span class="token punctuation" >{</span>i<span class="token punctuation" >}</span>
         style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span> width<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span><span class="token punctuation" >,</span> height<span class="token punctuation" >:</span> <span class="token string" >'12.5%'</span> <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
      <span class="token operator" >&lt;</span><span class="token qualifier" >Board</span><span class="token qualifier" >Square</span> x<span class="token operator" >=</span><span class="token punctuation" >{</span>x<span class="token punctuation" >}</span>
                   y<span class="token operator" >=</span><span class="token punctuation" >{</span>y<span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderPiece<span class="token punctuation" >(</span></span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Board</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
    <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
  <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

<span class="token function" >renderPiece<span class="token punctuation" >(</span></span>x<span class="token punctuation" >,</span> y<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >[</span>knightX<span class="token punctuation" >,</span> knightY<span class="token punctuation" >]</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>knightPosition<span class="token punctuation" >;</span>
  <span class="token block-keyword" >if</span> <span class="token punctuation" >(</span>x <span class="token operator" >===</span> knightX <span class="token operator" >&amp;&amp;</span> y <span class="token operator" >===</span> knightY<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token operator" >&lt;</span><span class="token qualifier" >Knight</span> <span class="token operator" >/</span><span class="token operator" >></span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="332">
<p>Let&#39;s now wrap the <code>BoardSquare</code> with a <a href="docs-drop-target.html"><code>DropTarget</code></a>. I&#39;m going to write a drop target specification that only handles the <code>drop</code> event:</p>
</div><div class="CodeBlock" data-reactid="333"><ul class="CodeBlock-tabs" data-reactid="334"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="335"><a data-reactid="336">ES6</a></li><li class="CodeBlock-tab " data-reactid="337"><a data-reactid="338">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="339"><div style="width:100%;" data-reactid="340"><div style="width:100%;" data-reactid="341">
<code class="codeBlock"><span class="token keyword" >const</span> squareTarget <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token function" >drop<span class="token punctuation" >(</span></span>props<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>props<span class="token punctuation" >.</span>x<span class="token punctuation" >,</span> props<span class="token punctuation" >.</span>y<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span></code></div></div></div></div><div style="width:100%;" data-reactid="342">
<p>See? The <code>drop</code> method receives the <code>props</code> of the <code>BoardSquare</code> so it knows <em>where</em> to move the knight when it drops. In a real app, I might also use <code>monitor.getItem()</code> to retrieve <em>the dragged item</em> that the drag source returned from <code>beginDrag</code>, but since we only have a single draggable thing in the whole application, I don&#39;t need it.</p>
<p>In my collecting function, I&#39;m going to obtain the function to connect my drop target node, and I&#39;m also going to ask the monitor whether the pointer is currently over the <code>BoardSquare</code> so I can highlight it:</p>
<code class="codeBlock"><span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDropTarget<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dropTarget<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isOver<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isOver<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code><p>After changing the <code>render</code> function to connect the drop target and show the highlight overlay, here is what <code>BoardSquare</code> came to be:</p>
</div><div class="CodeBlock" data-reactid="343"><ul class="CodeBlock-tabs" data-reactid="344"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="345"><a data-reactid="346">ES7</a></li><li class="CodeBlock-tab " data-reactid="347"><a data-reactid="348">ES6</a></li><li class="CodeBlock-tab " data-reactid="349"><a data-reactid="350">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="351"><div style="width:100%;" data-reactid="352"><div style="width:100%;" data-reactid="353">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> canMoveKnight<span class="token punctuation" >,</span> moveKnight <span class="token punctuation" >}</span> from <span class="token string" >'./Game'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Item</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'./Constants'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Drop</span><span class="token qualifier" >Target</span> <span class="token punctuation" >}</span> from <span class="token string" >'react-dnd'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> squareTarget <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token function" >drop<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>props<span class="token punctuation" >.</span>x<span class="token punctuation" >,</span> props<span class="token punctuation" >.</span>y<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDropTarget<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dropTarget<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isOver<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isOver<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

@<span class="token function" >DropTarget<span class="token punctuation" >(</span></span><span class="token qualifier" >Item</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>KNIGHT<span class="token punctuation" >,</span> squareTarget<span class="token punctuation" >,</span> collect<span class="token punctuation" >)</span>
<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >BoardSquare</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    x<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    y<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    isOver<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool<span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> x<span class="token punctuation" >,</span> y<span class="token punctuation" >,</span> connectDropTarget<span class="token punctuation" >,</span> isOver <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token function" >connectDropTarget<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        position<span class="token punctuation" >:</span> <span class="token string" >'relative'</span><span class="token punctuation" >,</span>
        width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
          <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>children<span class="token punctuation" >}</span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span>isOver <span class="token operator" >&amp;&amp;</span>
          <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
            position<span class="token punctuation" >:</span> <span class="token string" >'absolute'</span><span class="token punctuation" >,</span>
            top<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >,</span>
            left<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >,</span>
            height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
            width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
            zIndex<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>
            opacity<span class="token punctuation" >:</span> <span class="token number" >0.5</span><span class="token punctuation" >,</span>
            backgroundColor<span class="token punctuation" >:</span> <span class="token string" >'yellow'</span><span class="token punctuation" >,</span>
          <span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
        <span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="354">
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/2U43301g421U3I2X2p0P/Screen%20Recording%202015-05-15%20at%2001.55%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<p>This is starting to look good! There is just one change left to complete this tutorial. We want to highlight the <code>BoardSquare</code>s that represent the valid moves, and only process the drop if it happened over one of those valid <code>BoardSquare</code>s.</p>
<p>Thankfully, it is really easy to do with React DnD. I just need to define a <code>canDrop</code> method in my drop target specification:</p>
</div><div class="CodeBlock" data-reactid="355"><ul class="CodeBlock-tabs" data-reactid="356"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="357"><a data-reactid="358">ES6</a></li><li class="CodeBlock-tab " data-reactid="359"><a data-reactid="360">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="361"><div style="width:100%;" data-reactid="362"><div style="width:100%;" data-reactid="363">
<code class="codeBlock"><span class="token function" >canDrop<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token function" >canMoveKnight<span class="token punctuation" >(</span></span>props<span class="token punctuation" >.</span>x<span class="token punctuation" >,</span> props<span class="token punctuation" >.</span>y<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="364">
<p>I&#39;m also adding <code>monitor.canDrop()</code> to my collecting function, as well as some overlay rendering code to the component:</p>
</div><div class="CodeBlock" data-reactid="365"><ul class="CodeBlock-tabs" data-reactid="366"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="367"><a data-reactid="368">ES7</a></li><li class="CodeBlock-tab " data-reactid="369"><a data-reactid="370">ES6</a></li><li class="CodeBlock-tab " data-reactid="371"><a data-reactid="372">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="373"><div style="width:100%;" data-reactid="374"><div style="width:100%;" data-reactid="375">
<code class="codeBlock"><span class="token keyword" >import</span> <span class="token qualifier" >React</span><span class="token punctuation" >,</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Component</span><span class="token punctuation" >,</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'react'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token qualifier" >Square</span> from <span class="token string" >'./Square'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> canMoveKnight<span class="token punctuation" >,</span> moveKnight <span class="token punctuation" >}</span> from <span class="token string" >'./Game'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Item</span><span class="token qualifier" >Types</span> <span class="token punctuation" >}</span> from <span class="token string" >'./Constants'</span><span class="token punctuation" >;</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> <span class="token qualifier" >Drop</span><span class="token qualifier" >Target</span> <span class="token punctuation" >}</span> from <span class="token string" >'react-dnd'</span><span class="token punctuation" >;</span>

<span class="token keyword" >const</span> squareTarget <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  <span class="token function" >canDrop<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token function" >canMoveKnight<span class="token punctuation" >(</span></span>props<span class="token punctuation" >.</span>x<span class="token punctuation" >,</span> props<span class="token punctuation" >.</span>y<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>

  <span class="token function" >drop<span class="token punctuation" >(</span></span>props<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token function" >moveKnight<span class="token punctuation" >(</span></span>props<span class="token punctuation" >.</span>x<span class="token punctuation" >,</span> props<span class="token punctuation" >.</span>y<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>

<span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDropTarget<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dropTarget<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isOver<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isOver<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    canDrop<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >canDrop<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span>

@<span class="token function" >DropTarget<span class="token punctuation" >(</span></span><span class="token qualifier" >Item</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>KNIGHT<span class="token punctuation" >,</span> squareTarget<span class="token punctuation" >,</span> collect<span class="token punctuation" >)</span>
<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token keyword" >class</span> <span class="token class-name" >BoardSquare</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >static</span> propTypes <span class="token operator" >=</span> <span class="token punctuation" >{</span>
    x<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    y<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>number<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    isOver<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool<span class="token punctuation" >.</span>isRequired<span class="token punctuation" >,</span>
    canDrop<span class="token punctuation" >:</span> <span class="token qualifier" >Prop</span><span class="token qualifier" >Types</span><span class="token punctuation" >.</span>bool<span class="token punctuation" >.</span>isRequired
  <span class="token punctuation" >}</span><span class="token punctuation" >;</span>

  <span class="token function" >renderOverlay<span class="token punctuation" >(</span></span>color<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        position<span class="token punctuation" >:</span> <span class="token string" >'absolute'</span><span class="token punctuation" >,</span>
        top<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >,</span>
        left<span class="token punctuation" >:</span> <span class="token number" >0</span><span class="token punctuation" >,</span>
        height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        zIndex<span class="token punctuation" >:</span> <span class="token number" >1</span><span class="token punctuation" >,</span>
        opacity<span class="token punctuation" >:</span> <span class="token number" >0.5</span><span class="token punctuation" >,</span>
        backgroundColor<span class="token punctuation" >:</span> color<span class="token punctuation" >,</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span> <span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token function" >render<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> x<span class="token punctuation" >,</span> y<span class="token punctuation" >,</span> connectDropTarget<span class="token punctuation" >,</span> isOver<span class="token punctuation" >,</span> canDrop <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
    <span class="token keyword" >const</span> black <span class="token operator" >=</span> <span class="token punctuation" >(</span>x <span class="token operator" >+</span> y<span class="token punctuation" >)</span> <span class="token operator" >%</span> <span class="token number" >2</span> <span class="token operator" >===</span> <span class="token number" >1</span><span class="token punctuation" >;</span>

    <span class="token keyword" >return</span> <span class="token function" >connectDropTarget<span class="token punctuation" >(</span></span>
      <span class="token operator" >&lt;</span>div style<span class="token operator" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >{</span>
        position<span class="token punctuation" >:</span> <span class="token string" >'relative'</span><span class="token punctuation" >,</span>
        width<span class="token punctuation" >:</span> <span class="token string" >'100%'</span><span class="token punctuation" >,</span>
        height<span class="token punctuation" >:</span> <span class="token string" >'100%'</span>
      <span class="token punctuation" >}</span><span class="token punctuation" >}</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span><span class="token qualifier" >Square</span> black<span class="token operator" >=</span><span class="token punctuation" >{</span>black<span class="token punctuation" >}</span><span class="token operator" >></span>
          <span class="token punctuation" >{</span><span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span>children<span class="token punctuation" >}</span>
        <span class="token operator" >&lt;</span><span class="token operator" >/</span><span class="token qualifier" >Square</span><span class="token operator" >></span>
        <span class="token punctuation" >{</span>isOver <span class="token operator" >&amp;&amp;</span> <span class="token operator" >!</span>canDrop <span class="token operator" >&amp;&amp;</span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderOverlay<span class="token punctuation" >(</span></span><span class="token string" >'red'</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
        <span class="token punctuation" >{</span><span class="token operator" >!</span>isOver <span class="token operator" >&amp;&amp;</span> canDrop <span class="token operator" >&amp;&amp;</span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderOverlay<span class="token punctuation" >(</span></span><span class="token string" >'yellow'</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
        <span class="token punctuation" >{</span>isOver <span class="token operator" >&amp;&amp;</span> canDrop <span class="token operator" >&amp;&amp;</span> <span class="token var" >this</span><span class="token punctuation" >.</span><span class="token function" >renderOverlay<span class="token punctuation" >(</span></span><span class="token string" >'green'</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token operator" >&lt;</span><span class="token operator" >/</span>div<span class="token operator" >></span>
    <span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="376">
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/0X3c342g0i3u100p1o18/Screen%20Recording%202015-05-15%20at%2002.05%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<h3>Final Touches<a id="final-touches">&nbsp;</a></h3><p>This tutorial guided you through creating the React components, making the design decisions about them and the app&#39;s data layer, and finally adding the drag and drop interaction. My intention was to show you that React DnD fits great with the philosophy of React, and that you should think about the app architecture first before diving into implementing the complex interactions.</p>
<p>The last thing I want to demonstrate is drag preview customization. Sure, the browser will screenshot the DOM node, but what if we want to show something different?</p>
<p>We are lucky again, because it is easy to do with React DnD. We just need to add a <code>connect.dragPreview()</code> to the collecting function of the <code>Knight</code>:</p>
<code class="codeBlock"><span class="token block-keyword" >function</span> <span class="token function" >collect<span class="token punctuation" >(</span></span>connect<span class="token punctuation" >,</span> monitor<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >{</span>
    connectDragSource<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragSource<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    connectDragPreview<span class="token punctuation" >:</span> connect<span class="token punctuation" >.</span><span class="token function" >dragPreview<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span><span class="token punctuation" >,</span>
    isDragging<span class="token punctuation" >:</span> monitor<span class="token punctuation" >.</span><span class="token function" >isDragging<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span></code><p>This lets us use <code>connectDragPreview</code> in <code>render</code> method, just like we used <code>connectDragSource</code>, or even in <code>componentDidMount</code> with a custom image:</p>
</div><div class="CodeBlock" data-reactid="377"><ul class="CodeBlock-tabs" data-reactid="378"><li class="CodeBlock-tab CodeBlock-activeTab" data-reactid="379"><a data-reactid="380">ES6</a></li><li class="CodeBlock-tab " data-reactid="381"><a data-reactid="382">ES5</a></li></ul><div class="CodeBlock-content" data-reactid="383"><div style="width:100%;" data-reactid="384"><div style="width:100%;" data-reactid="385">
<code class="codeBlock"><span class="token function" >componentDidMount<span class="token punctuation" >(</span></span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> img <span class="token operator" >=</span> <span class="token keyword" >new</span> <span class="token class-name" >Image</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
  img<span class="token punctuation" >.</span>src <span class="token operator" >=</span> 'data<span class="token punctuation" >:</span>image<span class="token operator" >/</span>png<span class="token punctuation" >;</span>base64<span class="token punctuation" >,</span>iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAOD1JREFUeAHtnQm8nHdZ75939pkzZ805OVtyktMkTZOmTZrupaWUlkJBBUSKKIJ6URBRP16vF71yBVHB<span class="token operator" >+</span>5ErcvWjotWiVJZ6QfbSUmhLpemSpkmaNHvOvi9zZt9n7vf3nx7oLXCygJBq3mTOzLz7<span class="token operator" >++</span>zP73n<span class="token operator" >+</span><span class="token operator" >/</span>zE7v5ynwHkKnKfAeQqcp8B5CpynwHkKnKfAeQqcp8B5CpynwHkKnKfAeQqcp8DKFHj60Xsu<span class="token operator" >/</span>dB73<span class="token operator" >/</span>bJB<span class="token operator" >+</span><span class="token number" >75</span><span class="token operator" >+</span>PUr7<span class="token operator" >/</span>nvuzXw73v6c<span class="token comment" spellcheck="true">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';
</span>  img<span class="token punctuation" >.</span>onload <span class="token operator" >=</span> <span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token var" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >.</span><span class="token function" >connectDragPreview<span class="token punctuation" >(</span></span>img<span class="token punctuation" >)</span><span class="token punctuation" >;</span>
<span class="token punctuation" >}</span></code></div></div></div></div><div style="width:100%;" data-reactid="386">
<p>Happy dragging and dropping.</p>
<p><img src='https://s3.amazonaws.com/f.cl.ly/items/1F2g2F0D470X0d0k2A1U/Screen%20Recording%202015-05-15%20at%2002.22%20pm.gif' width='404' height='445' alt='Screenshot'></p>
<p>Now go and <a href="examples-chessboard-tutorial-app.html">play with it</a>!</p>
</div></div></div></div></div><script data-reactid="387">window.INITIAL_PROPS = {"location":"docs-tutorial.html","devMode":false,"files":{"main.css":"main-cad0d4f10e10d83632c8.css","main.js":"main-cad0d4f10e10d83632c8.js"}};
</script><script src="main-cad0d4f10e10d83632c8.js" data-reactid="388"></script></body></html>